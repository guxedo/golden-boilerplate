---
title: Frontend Architecture
description: Component Composition, State Management, and Hook Patterns in React.
---

# Frontend Architecture

## Core Principles

-   **Framework:** React + Vite
-   **Build Tool:** Vite
-   **State:** TanStack Query (Server) + React Context (Client)
-   **Styling:** TailwindCSS + Shadcn/UI

## Component Composition

We follow the **Atomic Design** philosophy but simplified.

1.  **Atoms (UI Components):**
    *   Located in `components/ui`.
    *   Pure, dumb components (e.g., `Button`, `Input`).
    *   generated by Shadcn.

2.  **Molecules/Organisms (Feature Components):**
    *   Located in `features/<feature>/components`.
    *   Combine atoms to form logic (e.g., `LoginForm`, `UserTable`).

3.  **Pages:**
    *   Located in `pages/`.
    *   Orchestrate data fetching and layout.
    *   **Rule:** Pages should mostly contain `useQuery` calls and Layout components, minimal logical code.

## State Management

### Server State (TanStack Query)
For any data coming from the API, use `useQuery` or `useMutation`.
**Do not** store API data in `useState` or `Redux`.

```typescript
// GOOD
const { data, isLoading } = useQuery({ queryKey: ['users'], queryFn: getUsers });

// BAD
const [users, setUsers] = useState([]);
useEffect(() => { ... }, []);
```

### Application State
For UI state (isSidebarOpen, theme), use **React Context**.

## The Custom Hook Pattern
Encapsulate complex logic in custom hooks to keep components clean (SRP).

```typescript
// useAuth.ts
export const useAuth = () => {
  const { user } = useSession();
  const login = useMutation(...);
  const logout = useMutation(...);
  
  return { user, login, logout, isAuthenticated: !!user };
}
```
